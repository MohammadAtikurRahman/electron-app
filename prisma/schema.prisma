generator client {
  provider = "prisma-client-js"
}

datasource db {
    provider = "sqlite"
    url      = "file:school.db"
}

//onlineuser.js

model Video {
    id            Int         @id @default(autoincrement())
    pcName        String
    eiin          Int
    schoolName    String
    pcId          Int
    labId         Int
    videoName     String
    location      String
    plStart       String
    startDateTime String
    plEnd         String
    endDateTime   String
    duration      String
    User          OnlineUser? @relation(fields: [userId], references: [id])
    userId        Int?
}

model Track {
    id        Int     @id @default(autoincrement())
    startTime String
    endTime   String
    totalTime String
    School    School? @relation(fields: [schoolId], references: [id])
    schoolId  Int?
}

model School {
    id         Int         @id @default(autoincrement())
    pcName     String
    eiin       Int
    schoolName String
    pcId       Int
    labId      Int
    track      Track[]
    User       OnlineUser? @relation(fields: [userId], references: [id])
    userId     Int?
}

model OnlineUser {
    id           Int      @id @default(autoincrement())
    userId       Int
    mobileNumber String
    username     String
    password     String
    school       School[]
    video        Video[]
    createdAt    DateTime @default(now())
    updatedAt    DateTime @updatedAt
}

//user.js

model Pc {
    id            Int    @id @default(autoincrement())
    winStart      String
    winEnd        String
    totalTime     Int
    pcName        String
    videoName     String
    location      String
    plStart       String
    startDateTime String
    plEnd         String
    endDateTime   String
    duration      String
    userId        Int
    user          User   @relation(fields: [userId], references: [id])
}

model Beneficiary {
    id            Int    @id @default(autoincrement())
    beneficiaryId Int
    mob           String
    name          String
    uNm           String
    fNm           String
    mNm           String
    userId        Int
    user          User   @relation(fields: [userId], references: [id])
}

model User {
    id            Int           @id @default(autoincrement())
    mobileNumber  String?
    username      String
    password      String
    createdAt     DateTime      @default(now())
    updatedAt     DateTime      @updatedAt
    beneficiaries Beneficiary[]
    pcs           Pc[]
}
